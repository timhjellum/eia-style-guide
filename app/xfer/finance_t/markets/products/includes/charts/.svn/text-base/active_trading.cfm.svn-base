<script type="text/javascript">
		var chart,
		opts_active_trading = {
			chart: {
				renderTo: 'active-trading',
				zoomType: 'x',
                marginTop: 55,
				marginBottom: 75
			},
			credits: {
			  enabled: false
			},				
			title: {
				text: 'Average daily open interest in crude oil futures', //chart title 
				align: 'left',
				x: 0,
				y: 10,
				style:  {
				  color: 'black',
				  fontWeight: 'bold',
				  fontSize: '16px',
				  fontFamily: 'Arial'
				}				
			},
			xAxis: {
				type: 'datetime',
				tickInterval: 365*86400*1000,
				lineColor: '#000000',
				labels: {
				  y: 20,
				  style: {
					color: 'black',
					fontFamily: 'Arial'
				  }
				}
			},
			labels: {
				items: [{
					html: 'thousand contracts', // Y Axis label
					style:  {
						left:  '-35px',
						top:  '-25px',
						color: 'black',
						fontSize: '12px',
						fontFamily: 'Arial'	
					} 
				},
				{
				  html: 'Source: <a href="http://www.bloomberg.com/">Bloomberg</a>, Published by: <a href="http://www.eia.gov/">U.S. Energy Information Administration</a>.',
				  style:  {
					left:  '-20px',
					top:  '305px',
					color: 'gray',
					fontSize: '10px',
					fontFamily: 'Arial'
				  }
				},	
				{
				  html: 'Updated: quarterly | Last Updated: April 14, 2011',
				  style:  {
					left:  '-20px',
					top:  '317px',
					color: 'gray',					
					fontSize: '10px',
					fontFamily: 'Arial'
				  }
				}				
				
				]
			},
		   legend: {
			  enabled: false,
			},			
			tooltip: {
				 style: { 
					padding: 5,
					fontFamily: 'Arial'
				  },				
				formatter: function() {
					var d = new Date(this.x),
							quarter = ( d.getMonth() / 3) + 1;
							
					//quarter = quarter + {1:'st',2:'nd',3:'rd',4:'th'}[quarter];
					
					return '<b>' + d.getFullYear() + ', quarter ' + quarter +'</b> <br/>' + Highcharts.numberFormat(this.y, 0) + ' thousand contracts'; }
			},
			yAxis: { 
				title: null,
				max: 1500,
				tickInterval: 200,
				labels: {
					style:{ 
						color: 'black',
						fontFamily: 'Arial'
					}
				}				
			},
			plotOptions: {
				column:{
					shadow: 0,
					borderWidth:0
				}
			},
			exporting: {
				buttons:{
					printButton: {
						enabled: false
					}
				}
			},
			navigation: {
				buttonOptions: {
					y: 0
				}
			},				
			colors:[
				'#5D9732',
				'#0096d7',
				'#003953',
				'#a33340',
				'#bd732a',
				'#103203',
				'#ffc702',
			],
			series: []
		},
		series = {
				data: [],
				type: 'column',
				color: 'rgba(189, 115, 42, 1.0)',
				name: 'WTI crude futures',
				events:{ legendItemClick: function(e){ return false; }  }
			};
			
	$(window).load(function() {
		$.get( 'data.cfm?chart=active_trading', function(data) {
			var vals = data.DATA;
			
			//query each line and extract the dates and prices that I want
			$.each(vals, function( lineNo, items ) {
				var date = Date.parse( parseInt(items[1])*3-2 +'/1/'+ items[0]),
					val = parseFloat( items[2] );		
					
				if ( !isNaN( date ) )  
					series.data.push( [date, val] );
			});
		
			opts_active_trading.series.push(series);
			//display the chart
			chart = new Highcharts.Chart( opts_active_trading );
			
			chart.renderer.image('../..//global/images/icons/icon_interactive.gif', 575, 23, 69, 17)
			.add();
			
		}, 'json');
	});
	</script>

<div id="active-trading"></div>